{"ast":null,"code":"var _jsxFileName = \"E:\\\\learn\\\\react\\\\jianshu\\\\src\\\\commen\\\\header\\\\index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { createActions } from './headerStore';\nimport { CSSTransition } from 'react-transition-group';\nimport { Link } from 'react-router-dom';\nimport '../../static/iconfont/Icon.css';\nimport { HeaderWrapper, HeaderContainer, Additional, HeaderItem, SearchBox, Button, HotSearchArea, HotSearchItem } from './style.js';\n\nclass Header extends Component {\n  getSearchBox() {\n    //解构赋值\n    const _this$props = this.props,\n          focused = _this$props.focused,\n          list = _this$props.list,\n          searchMouseIn = _this$props.searchMouseIn,\n          currentPage = _this$props.currentPage,\n          totlePage = _this$props.totlePage,\n          searchboxMouseEnter = _this$props.searchboxMouseEnter,\n          searchboxMouseLeave = _this$props.searchboxMouseLeave,\n          changePage = _this$props.changePage; //当ajax取到数据后才进行显示\n\n    if (list) {\n      //list为一个immutable对象，不能直接使用[]运算符，需要先转成js数组\n      const newList = list.toJS();\n      const pageList = [];\n      let endNum = 0; //定义下一次要显示的页码数\n\n      let page = currentPage;\n\n      if (currentPage === totlePage) {\n        endNum = newList.length;\n        page = 1;\n      } else {\n        endNum = currentPage * 10;\n        page++;\n      }\n\n      for (let i = (currentPage - 1) * 10; i < endNum; i++) {\n        pageList.push(React.createElement(HotSearchItem, {\n          key: newList[i],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }, newList[i]));\n      }\n\n      if (focused || searchMouseIn) {\n        return React.createElement(HotSearchArea, {\n          onMouseEnter: searchboxMouseEnter,\n          onMouseLeave: searchboxMouseLeave,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          className: \"hotSearch\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, \"\\u70ED\\u95E8\\u641C\\u7D22\"), React.createElement(\"p\", {\n          className: \"changeOne\",\n          onClick: () => changePage(page, this.rotatePointer),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          ref: this.rotatePointer,\n          className: \"iconfont\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, \"\\uE61D\"), \"\\u6362\\u4E00\\u6279\"), React.createElement(\"div\", {\n          className: \"clearfix\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, pageList));\n      } else {\n        return null;\n      }\n    }\n  }\n\n  constructor(props) {\n    super(props);\n    this.rotatePointer = React.createRef();\n  }\n\n  render() {\n    const _this$props2 = this.props,\n          focused = _this$props2.focused,\n          loginStatus = _this$props2.loginStatus,\n          handleBoxFocus = _this$props2.handleBoxFocus,\n          handleBoxBlur = _this$props2.handleBoxBlur;\n    return React.createElement(HeaderWrapper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      className: \"LogoPic\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(HeaderContainer, {\n      className: \"leftCon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(HeaderItem, {\n      className: \"homePage\",\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"\\u9996\\u9875\")), React.createElement(HeaderItem, {\n      className: \"downloadAPP\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"\\u4E0B\\u8F7DAPP\"), React.createElement(\"div\", {\n      className: \"searchArea\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(CSSTransition, {\n      in: focused,\n      timeout: 200,\n      classNames: \"sbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(SearchBox, {\n      placeholder: \"\\u641C\\u7D22\",\n      onFocus: handleBoxFocus,\n      onBlur: handleBoxBlur,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      className: focused ? 'focusedBox iconfont' : 'iconfont',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"\\uE60C\"), this.getSearchBox())), React.createElement(HeaderContainer, {\n      className: \"rightCon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(HeaderItem, {\n      className: \"aa\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"iconfont\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"\\uE636\")), React.createElement(HeaderItem, {\n      className: \"beta\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(HeaderItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, loginStatus ? React.createElement(Link, {\n      to: \"/login\",\n      className: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"\\u9000\\u51FA\") : React.createElement(Link, {\n      to: \"/login\",\n      className: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"\\u767B\\u5F55\"))), React.createElement(Additional, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: \"reg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"\\u6CE8\\u518C\"), React.createElement(Button, {\n      className: \"writeArticles\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"iconfont\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"\\uE6A4\"), \"\\u5199\\u6587\\u7AE0\")));\n  }\n\n  componentDidMount() {\n    this.props.getSearchList();\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    focused: state.get('header').get('focused'),\n    list: state.get('header').get('list'),\n    searchMouseIn: state.get('header').get('searchMouseIn'),\n    currentPage: state.getIn(['header', 'currentPage']),\n    totlePage: state.get('header').get('totlePage'),\n    loginStatus: state.get('login').get('login')\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  let rotateFlag = 1;\n  return {\n    handleBoxFocus() {\n      dispatch(createActions.handleBoxFocusAction());\n    },\n\n    handleBoxBlur() {\n      dispatch(createActions.handleBoxBlurAction());\n    },\n\n    getSearchList() {\n      dispatch(createActions.getSearchListAction());\n    },\n\n    searchboxMouseEnter() {\n      dispatch(createActions.SearchboxMouseEnterAction());\n    },\n\n    searchboxMouseLeave() {\n      dispatch(createActions.searchboxMouseLeaveAction());\n    },\n\n    //传给reducer一个计算好的下一次要显示的页面序号\n    changePage(page, rotatePointer) {\n      rotatePointer.current.style.transform = 'rotate(' + 360 * rotateFlag++ + 'deg)';\n      dispatch(createActions.changePageAction(page));\n    }\n\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);","map":{"version":3,"sources":["E:\\learn\\react\\jianshu\\src\\commen\\header\\index.js"],"names":["React","Component","connect","createActions","CSSTransition","Link","HeaderWrapper","HeaderContainer","Additional","HeaderItem","SearchBox","Button","HotSearchArea","HotSearchItem","Header","getSearchBox","props","focused","list","searchMouseIn","currentPage","totlePage","searchboxMouseEnter","searchboxMouseLeave","changePage","newList","toJS","pageList","endNum","page","length","i","push","rotatePointer","constructor","createRef","render","loginStatus","handleBoxFocus","handleBoxBlur","componentDidMount","getSearchList","mapStateToProps","state","get","getIn","mapDispatchToProps","dispatch","rotateFlag","handleBoxFocusAction","handleBoxBlurAction","getSearchListAction","SearchboxMouseEnterAction","searchboxMouseLeaveAction","current","style","transform","changePageAction"],"mappings":"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","sourcesContent":["import React, {Component}from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {createActions} from './headerStore';\r\nimport {CSSTransition} from 'react-transition-group';\r\nimport {Link} from 'react-router-dom';\r\nimport '../../static/iconfont/Icon.css';\r\nimport {\r\n\tHeaderWrapper,\r\n\tHeaderContainer,\r\n\tAdditional,\r\n\tHeaderItem,\r\n\tSearchBox,\r\n\tButton,\r\n\tHotSearchArea,\r\n\tHotSearchItem\r\n}from './style.js'\r\nclass Header extends Component {\r\n\r\n\tgetSearchBox() {\r\n\t\t//解构赋值\r\n\t\tconst {\r\n\t\t\tfocused, \r\n\t\t\tlist, \r\n\t\t\tsearchMouseIn,\r\n\t\t\tcurrentPage,\r\n\t\t\ttotlePage, \r\n\t\t\tsearchboxMouseEnter, \r\n\t\t\tsearchboxMouseLeave, \r\n\t\t\tchangePage } = this.props;\r\n\t\t//当ajax取到数据后才进行显示\r\n\t\tif(list){\r\n\t\t\t//list为一个immutable对象，不能直接使用[]运算符，需要先转成js数组\r\n\t\t\tconst newList = list.toJS();\r\n\t\t\tconst pageList = [];\r\n\t\t\tlet endNum = 0;\r\n\t\t\t//定义下一次要显示的页码数\r\n\t\t\tlet page = currentPage;\r\n\t\t\tif(currentPage === totlePage){\r\n\t\t\t\tendNum = newList.length;\r\n\t\t\t\tpage = 1;\r\n\t\t\t}else{\r\n\t\t\t\tendNum = currentPage * 10;\r\n\t\t\t\tpage++;\r\n\t\t\t}\r\n\t\t\tfor(let i = (currentPage-1) * 10; i < endNum; i++) {\r\n\t\t\t\tpageList.push(<HotSearchItem key = {newList[i]}>{newList[i]}</HotSearchItem>)\r\n\t\t\t}\r\n\r\n\t\t\tif(focused || searchMouseIn){\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<HotSearchArea \r\n\t\t\t\t\t\tonMouseEnter = {searchboxMouseEnter}\r\n\t\t\t\t\t\tonMouseLeave = {searchboxMouseLeave}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<p className='hotSearch'>热门搜索</p>\r\n\t\t\t\t\t\t<p className='changeOne'\r\n\t\t\t\t\t\t\tonClick = {() => changePage(page, this.rotatePointer)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<span ref = {this.rotatePointer} className='iconfont'>&#xe61d;</span>\r\n\t\t\t\t\t\t换一批\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className='clearfix'>\r\n\t\t\t\t\t\t{pageList}\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</HotSearchArea>\r\n\t\t\t\t)\r\n\t\t\t}else{\r\n\t\t\t\treturn null\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.rotatePointer = React.createRef();\r\n\t}\r\n\r\n\trender () {\r\n\t\tconst {focused, loginStatus, handleBoxFocus, handleBoxBlur} = this.props;\r\n\t\treturn (\r\n\t\t\t<HeaderWrapper>\r\n\t\t\t\t<Link to='/' className='LogoPic'>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<HeaderContainer className = 'leftCon'>\r\n\t\t\t\t\t<Link to='/'>\r\n\t\t\t\t\t\t<HeaderItem className = 'homePage' href='/'>首页</HeaderItem>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<HeaderItem className = 'downloadAPP'>下载APP</HeaderItem>\r\n\t\t\t\t\t<div className ='searchArea'>\r\n\t\t\t\t\t\t<CSSTransition\r\n\t\t\t\t\t\t\tin = {focused}\r\n\t\t\t\t\t\t\ttimeout = {200}\r\n\t\t\t\t\t\t\tclassNames = 'sbox'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<SearchBox placeholder='搜索' \r\n\t\t\t\t\t\t\t\tonFocus = {handleBoxFocus}\r\n\t\t\t\t\t\t\t\tonBlur = {handleBoxBlur}\r\n\t\t\t\t\t\t\t/>\t\t\t\t\t\r\n\t\t\t\t\t\t</CSSTransition>\r\n\t\t\t\t\t\t<span className = {focused ? 'focusedBox iconfont': 'iconfont'}>&#xe60c;</span>\r\n\t\t\t\t\t\t{ this.getSearchBox()}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</HeaderContainer>\r\n\t\t\t\t<HeaderContainer className = 'rightCon'>\r\n\t\t\t\t\t<HeaderItem className = 'aa'><span className=\"iconfont\">&#xe636;</span></HeaderItem>\r\n\t\t\t\t\t<HeaderItem className = 'beta'></HeaderItem>\r\n\t\t\t\t\t<HeaderItem> \r\n\t\t\t\t\t\t{loginStatus?<Link to='/login' className='login'>退出</Link> : <Link to='/login' className='login'>登录</Link>}\r\n\t\t\t\t\t</HeaderItem>\r\n\t\t\t\t</HeaderContainer>\r\n\t\t\t\t<Additional>\r\n\t\t\t\t\t<Button className = 'reg'>注册</Button>\r\n\t\t\t\t\t<Button className = 'writeArticles'><span className=\"iconfont\">&#xe6a4;</span>写文章</Button>\r\n\t\t\t\t</Additional>\r\n\t\t\t</HeaderWrapper>\r\n\t\t)\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.getSearchList();\r\n\t}\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tfocused: state.get('header').get('focused'),\r\n\t\tlist: state.get('header').get('list'),\r\n\t\tsearchMouseIn: state.get('header').get('searchMouseIn'),\r\n\t\tcurrentPage:state.getIn(['header','currentPage']),\r\n\t\ttotlePage : state.get('header').get('totlePage'),\r\n\t\tloginStatus:state.get('login').get('login')\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\tlet rotateFlag = 1;\r\n\treturn {\r\n\t\thandleBoxFocus() {\t\t\r\n\t\t\tdispatch(createActions.handleBoxFocusAction());\r\n\t\t},\r\n\r\n\t\thandleBoxBlur() {\r\n\t\t\tdispatch(createActions.handleBoxBlurAction());\r\n\t\t},\r\n\t\tgetSearchList() {\r\n\t\t\tdispatch(createActions.getSearchListAction());\r\n\t\t},\r\n\t\tsearchboxMouseEnter() {\r\n\t\t\tdispatch(createActions.SearchboxMouseEnterAction());\r\n\t\t},\r\n\t\tsearchboxMouseLeave() {\r\n\t\t\tdispatch(createActions.searchboxMouseLeaveAction());\r\n\t\t},\r\n\t\t//传给reducer一个计算好的下一次要显示的页面序号\r\n\t\tchangePage(page, rotatePointer) {\r\n\t\t\trotatePointer.current.style.transform = 'rotate('+(360*rotateFlag++)+'deg)';\t\t\r\n\t\t\tdispatch(createActions.changePageAction(page));\r\n\t\t}\r\n\t}\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);"]},"metadata":{},"sourceType":"module"}