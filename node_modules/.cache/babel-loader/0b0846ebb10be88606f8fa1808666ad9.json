{"ast":null,"code":"import { actionTypes } from './index';\nimport axios from 'axios';\nexport const exitUserAction = () => ({\n  type: actionTypes.CHANGE_LOGIN,\n  value: false\n});\nexport const handleLoginAction = (userName, password) => {\n  return dispatch => {\n    axios.post('/testData/login.json', {\n      userName: userName,\n      password: password\n    }).then(res => {\n      console.log(res);\n      const result = res.data.data;\n\n      if (result) {\n        const action = {\n          type: actionTypes.HANDLE_LOGIN,\n          value: true\n        };\n        dispatch(action);\n      } else {\n        alert('登录失败！');\n      }\n    }).catch(error => {\n      console.log(error);\n      alert('请刷新重试~');\n    });\n  };\n};","map":{"version":3,"sources":["E:\\learn\\react\\jianshu\\src\\pages\\login\\LoginStore\\createActions.js"],"names":["actionTypes","axios","exitUserAction","type","CHANGE_LOGIN","value","handleLoginAction","userName","password","dispatch","post","then","res","console","log","result","data","action","HANDLE_LOGIN","alert","catch","error"],"mappings":"AAAA,SAAQA,WAAR,QAA0B,SAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,MAAMC,cAAc,GAAG,OAAO;AACpCC,EAAAA,IAAI,EAAEH,WAAW,CAACI,YADkB;AAEpCC,EAAAA,KAAK,EAAE;AAF6B,CAAP,CAAvB;AAKP,OAAO,MAAMC,iBAAiB,GAAG,CAACC,QAAD,EAAWC,QAAX,KAAwB;AACxD,SAAQC,QAAD,IAAc;AACpBR,IAAAA,KAAK,CAACS,IAAN,CAAW,sBAAX,EAAkC;AAACH,MAAAA,QAAQ,EAAEA,QAAX;AAAqBC,MAAAA,QAAQ,EAAEA;AAA/B,KAAlC,EAA4EG,IAA5E,CAAkFC,GAAD,IAAS;AACzFC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,YAAMG,MAAM,GAAGH,GAAG,CAACI,IAAJ,CAASA,IAAxB;;AACA,UAAGD,MAAH,EAAU;AACT,cAAME,MAAM,GAAE;AACbd,UAAAA,IAAI,EAAEH,WAAW,CAACkB,YADL;AAEbb,UAAAA,KAAK,EAAE;AAFM,SAAd;AAIAI,QAAAA,QAAQ,CAACQ,MAAD,CAAR;AACA,OAND,MAMK;AACJE,QAAAA,KAAK,CAAC,OAAD,CAAL;AACA;AAED,KAbD,EAaGC,KAbH,CAaUC,KAAD,IAAS;AACjBR,MAAAA,OAAO,CAACC,GAAR,CAAYO,KAAZ;AACAF,MAAAA,KAAK,CAAC,QAAD,CAAL;AACA,KAhBD;AAiBA,GAlBD;AAmBA,CApBM","sourcesContent":["import {actionTypes} from './index';\r\nimport axios from 'axios';\r\nexport const exitUserAction = () => ({\r\n\ttype: actionTypes.CHANGE_LOGIN,\r\n\tvalue: false\r\n});\r\n\r\nexport const handleLoginAction = (userName, password) => {\r\n\treturn (dispatch) => {\r\n\t\taxios.post('/testData/login.json',{userName: userName, password: password}).then((res) => {\r\n\t\t\tconsole.log(res);\r\n\t\t\tconst result = res.data.data;\r\n\t\t\tif(result){\r\n\t\t\t\tconst action ={\r\n\t\t\t\t\ttype: actionTypes.HANDLE_LOGIN,\r\n\t\t\t\t\tvalue: true\r\n\t\t\t\t};\r\n\t\t\t\tdispatch(action);\r\n\t\t\t}else{\r\n\t\t\t\talert('登录失败！');\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}).catch((error)=>{\r\n\t\t\tconsole.log(error);\r\n\t\t\talert('请刷新重试~');\r\n\t\t})\r\n\t}\r\n}"]},"metadata":{},"sourceType":"module"}