{"ast":null,"code":"import { fromJS } from 'immutable';\nimport * as actionTypes from './actionTypes';\nimport axios from 'axios';\nexport const initListAction = () => {\n  return dispatch => {\n    axios.get('./testData/list.json').then(res => {\n      const origindData = JSON.parse(JSON.stringify(res.data));\n      const len = origindData.length;\n      const data = [];\n\n      for (let i = 0; i < 6; i++) {\n        data.push(origindData[i]);\n      }\n\n      const action = {\n        type: actionTypes.INIT_LIST,\n        data: fromJS(data),\n        listLength: len\n      };\n      dispatch(action);\n    });\n  };\n};\nexport const showMoreList = (curPos, len) => {\n  return dispatch => {\n    axios.get('./testData/list.json').then(res => {\n      const origindData = JSON.parse(JSON.stringify(res.data));\n      const data = [];\n      let currentPosition = curPos;\n\n      if (curpos + 6 >= len) {\n        for (let i = 0; i < curpos + 6; i++) {\n          data.push(origindData[i]);\n        }\n\n        currentPosition = curPos + 6;\n      } else {\n        for (let i = 0; i < len; i++) {\n          data.push(origindData[i]);\n        }\n\n        currentPosition = len;\n      }\n\n      const action = {\n        type: actionTypes.SHOW_MORE_LIST,\n        data: fromJS(data),\n        currentPosition: currentPosition\n      };\n      dispatch(action);\n    });\n  };\n};","map":{"version":3,"sources":["E:\\learn\\react\\jianshu\\src\\pages\\home\\homeStore\\createActions.js"],"names":["fromJS","actionTypes","axios","initListAction","dispatch","get","then","res","origindData","JSON","parse","stringify","data","len","length","i","push","action","type","INIT_LIST","listLength","showMoreList","curPos","currentPosition","curpos","SHOW_MORE_LIST"],"mappings":"AAAA,SAAQA,MAAR,QAAqB,WAArB;AACA,OAAO,KAAKC,WAAZ,MAA6B,eAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,cAAc,GAAG,MAAK;AAClC,SAAQC,QAAD,IAAY;AAClBF,IAAAA,KAAK,CAACG,GAAN,CAAU,sBAAV,EAAkCC,IAAlC,CAAwCC,GAAD,IAAO;AAC7C,YAAMC,WAAW,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeJ,GAAG,CAACK,IAAnB,CAAX,CAApB;AACA,YAAMC,GAAG,GAAGL,WAAW,CAACM,MAAxB;AACA,YAAMF,IAAI,GAAG,EAAb;;AACA,WAAI,IAAIG,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAE,CAAlB,EAAqBA,CAAC,EAAtB,EAAyB;AACxBH,QAAAA,IAAI,CAACI,IAAL,CAAUR,WAAW,CAACO,CAAD,CAArB;AACA;;AACD,YAAME,MAAM,GAAG;AACdC,QAAAA,IAAI,EAAEjB,WAAW,CAACkB,SADJ;AAEdP,QAAAA,IAAI,EAAEZ,MAAM,CAACY,IAAD,CAFE;AAGdQ,QAAAA,UAAU,EAACP;AAHG,OAAf;AAKAT,MAAAA,QAAQ,CAACa,MAAD,CAAR;AACA,KAbD;AAcA,GAfD;AAgBA,CAjBM;AAmBP,OAAO,MAAMI,YAAY,GAAG,CAACC,MAAD,EAAST,GAAT,KAAiB;AAC5C,SAAQT,QAAD,IAAc;AACpBF,IAAAA,KAAK,CAACG,GAAN,CAAU,sBAAV,EAAkCC,IAAlC,CAAwCC,GAAD,IAAO;AAC7C,YAAMC,WAAW,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeJ,GAAG,CAACK,IAAnB,CAAX,CAApB;AACA,YAAMA,IAAI,GAAG,EAAb;AACA,UAAIW,eAAe,GAAGD,MAAtB;;AACA,UAAGE,MAAM,GAAC,CAAP,IAAYX,GAAf,EAAmB;AAClB,aAAI,IAAIE,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGS,MAAM,GAAC,CAA1B,EAA6BT,CAAC,EAA9B,EAAiC;AAChCH,UAAAA,IAAI,CAACI,IAAL,CAAUR,WAAW,CAACO,CAAD,CAArB;AACA;;AACDQ,QAAAA,eAAe,GAAGD,MAAM,GAAC,CAAzB;AACA,OALD,MAMI;AACH,aAAI,IAAIP,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGF,GAAnB,EAAwBE,CAAC,EAAzB,EAA4B;AAC3BH,UAAAA,IAAI,CAACI,IAAL,CAAUR,WAAW,CAACO,CAAD,CAArB;AACA;;AACDQ,QAAAA,eAAe,GAAGV,GAAlB;AACA;;AACD,YAAMI,MAAM,GAAE;AACbC,QAAAA,IAAI,EAACjB,WAAW,CAACwB,cADJ;AAEbb,QAAAA,IAAI,EAAEZ,MAAM,CAACY,IAAD,CAFC;AAGbW,QAAAA,eAAe,EAAEA;AAHJ,OAAd;AAKAnB,MAAAA,QAAQ,CAACa,MAAD,CAAR;AACA,KAtBD;AAuBA,GAxBD;AAyBA,CA1BM","sourcesContent":["import {fromJS} from 'immutable';\r\nimport * as actionTypes from './actionTypes';\r\nimport axios from 'axios';\r\n\r\nexport const initListAction = () =>{\r\n\treturn (dispatch)=>{\r\n\t\taxios.get('./testData/list.json').then((res)=>{\r\n\t\t\tconst origindData = JSON.parse(JSON.stringify(res.data));\r\n\t\t\tconst len = origindData.length;\r\n\t\t\tconst data = [];\r\n\t\t\tfor(let i = 0; i< 6; i++){\r\n\t\t\t\tdata.push(origindData[i]);\r\n\t\t\t}\r\n\t\t\tconst action = {\r\n\t\t\t\ttype: actionTypes.INIT_LIST,\r\n\t\t\t\tdata: fromJS(data),\r\n\t\t\t\tlistLength:len\r\n\t\t\t};\r\n\t\t\tdispatch(action);\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const showMoreList = (curPos, len) => {\r\n\treturn (dispatch) => {\r\n\t\taxios.get('./testData/list.json').then((res)=>{\r\n\t\t\tconst origindData = JSON.parse(JSON.stringify(res.data));\r\n\t\t\tconst data = [];\r\n\t\t\tlet currentPosition = curPos;\r\n\t\t\tif(curpos+6 >= len){\r\n\t\t\t\tfor(let i = 0; i < curpos+6; i++){\r\n\t\t\t\t\tdata.push(origindData[i]);\r\n\t\t\t\t}\r\n\t\t\t\tcurrentPosition = curPos+6;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tfor(let i = 0; i < len; i++){\r\n\t\t\t\t\tdata.push(origindData[i]);\r\n\t\t\t\t}\r\n\t\t\t\tcurrentPosition = len;\r\n\t\t\t}\r\n\t\t\tconst action ={\r\n\t\t\t\ttype:actionTypes.SHOW_MORE_LIST,\r\n\t\t\t\tdata: fromJS(data),\r\n\t\t\t\tcurrentPosition: currentPosition\r\n\t\t\t};\r\n\t\t\tdispatch(action);\r\n\t\t})\r\n\t}\r\n}"]},"metadata":{},"sourceType":"module"}